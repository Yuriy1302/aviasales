{"version":3,"sources":["images/attention.png","images/logo.svg","actions/index.js","components/Filter/index.js","components/Filter/Filter.jsx","components/Spiner/index.js","components/Spiner/Spiner.jsx","components/Ticket/index.js","components/Ticket/Ticket.jsx","components/ErrorIndicator/index.js","components/ErrorIndicator/ErrorIndicator.jsx","components/TicketsList/index.js","components/TicketsList/TicketsList.jsx","components/App/index.js","components/App/App.jsx","reducer/index.js","index.js"],"names":["module","exports","fetchSearchId","dispatch","a","fetch","response","json","searchId","type","fetchTickets","status","data","tickets","stop","console","error","sortByPrice","sortByDuration","allRoutes","noStops","oneStops","twoStops","threeStops","Filter","connect","state","filterStops","actions","props","className","style","fontSize","textAlign","map","item","key","name","checked","isChecked","id","onChange","htmlFor","title","Spiner","Ticket","ticket","carrier","price","segments","segmentOneWay","segmentToBack","suffix","index","transformDuration","duration","hour","Math","floor","min","src","alt","origin","destination","stops","length","ErrorIndicator","attention","width","margin","onClick","TicketsList","cheap","checkedList","Set","size","has","sortedTickets","checkedFilters","slice","filter","includes","sort","prev","next","uniqueId","App","loader","btnCheap","btnQuick","logo","reducer","action","newFilterStops","newNoStops","checkboxes","newOneStops","newTwoStops","newThreeStops","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,wrBCA9BC,EAAgB,WAC3B,8CAAO,WAAOC,GAAP,mBAAAC,EAAA,sEACkBC,MAAM,+CADxB,cACCC,EADD,gBAEsBA,EAASC,OAF/B,gBAEGC,EAFH,EAEGA,SACRL,EAAS,CACPM,KAAM,gBACND,aAEFL,EAASO,EAAaF,IAPjB,2CAAP,uDAWWE,EAAe,SAAfA,EAAgBF,GAC3B,8CAAO,WAAOL,GAAP,iBAAAC,EAAA,sDACLD,EAAS,CAAEM,KAAM,0BADZ,gCAIsBJ,MAAM,yDAAD,OAA0DG,IAJrF,cAMuB,OAFlBF,EAJL,QAMYK,QACXR,EAASO,EAAaF,IAPvB,UASkBF,EAASC,OAT3B,WASKK,EATL,OAWDT,EAAS,CACPM,KAAM,wBACNI,QAASD,EAAKC,QACdC,KAAMF,EAAKE,QAGTF,EAAKE,KAjBR,2GAqBDX,EAAS,CAAEM,KAAM,0BACjBM,QAAQC,MAAM,0FAAd,MAtBC,sFAAP,uDAgCWC,EAAc,iBAAO,CAChCR,KAAM,kBAIKS,EAAiB,iBAAO,CACnCT,KAAM,qBAIKU,EAAY,iBAAO,CAC9BV,KAAM,sBAGKW,EAAU,iBAAO,CAC5BX,KAAM,iCAGKY,EAAW,iBAAO,CAC7BZ,KAAM,kCAGKa,EAAW,iBAAO,CAC7Bb,KAAM,kCAGKc,EAAa,iBAAO,CAC/Bd,KAAM,oCCtEOe,G,MC2CAC,aArCS,SAACC,GAEvB,MAAO,CAAEC,YADeD,EAAhBC,eAoC8BC,EAAzBH,EAhCA,SAACI,GAAW,IACjBF,EAA4BE,EAA5BF,YAAgBC,EADA,YACYC,EADZ,iBAGxB,OACE,yBAAKC,UAAU,QACb,wBAAIC,MAAO,CAAEC,SAAU,OAAQC,UAAW,WAA1C,uHAGA,0BAAMH,UAAU,QACbH,EAAYO,KAAI,SAACC,GAChB,OACE,yBAAKC,IAAKD,EAAKE,MACb,2BACE5B,KAAK,WACL6B,QAASH,EAAKI,UACdF,KAAMF,EAAKE,KACXG,GAAIL,EAAKK,GACTC,SAAUb,EAAQO,EAAKE,QAEzB,2BAAOK,QAASP,EAAKK,IAAKL,EAAKQ,iBC9B9BC,G,MCEA,WACb,OACE,yBAAKd,UAAU,yCACb,yBAAKA,UAAU,mBACb,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,kC,gBCjBOe,G,MCGA,SAAChB,GAAW,IACjBiB,EAAWjB,EAAXiB,OACAC,EAA6BD,EAA7BC,QAASC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SAFA,cAGeA,EAHf,GAGjBC,EAHiB,KAGFC,EAHE,KAKlBC,EAAS,SAACC,GACd,OAAc,IAAVA,EACK,yDAEK,IAAVA,EACK,yDAEF,0DAGHC,EAAoB,SAACC,GACzB,IAAIC,EAAOC,KAAKC,MAAMH,EAAW,IAC7BC,EAAO,KAAIA,EAAI,WAAOA,IAC1B,IAAIG,EAAMJ,EAAkB,GAAPC,EAErB,OADIG,EAAM,KAAIA,EAAG,WAAOA,IAClB,GAAN,OAAUH,EAAV,kBAAmBG,EAAnB,WAGF,OACE,yBAAK7B,UAAU,eACb,yBAAKA,UAAU,uBACb,8BAAOkB,EAAP,MACA,yBACEY,IAAG,8BAAyBb,EAAzB,QACHc,IAAG,sBAAiBd,MAGxB,yBAAKjB,UAAU,eACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,oBACb,0BAAMA,UAAU,cACboB,EAAcY,OADjB,MAC4BZ,EAAca,aAE1C,gDAEF,yBAAKjC,UAAU,mBACb,0BAAMA,UAAU,cACbqB,EAAcW,OADjB,MAC4BX,EAAcY,aAE1C,iDAGJ,yBAAKjC,UAAU,aACb,yBAAKA,UAAU,yBACb,0BAAMA,UAAU,cAAhB,mCACA,8BAAOwB,EAAkBJ,EAAcK,YAEzC,yBAAKzB,UAAU,wBACb,0BAAMA,UAAU,cAAhB,mCACA,8BAAOwB,EAAkBH,EAAcI,aAG3C,yBAAKzB,UAAU,YACb,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,cACboB,EAAcc,MAAMC,OADvB,IACgCb,EAAOF,EAAcc,MAAMC,SAE3D,6BACGf,EAAcc,MAAMC,OAAS,EAC5Bf,EAAcc,MAAM9B,KAAI,SAACC,GAAD,OACtB,0BAAMC,IAAKD,GAAOA,EAAlB,QAGF,qCAIN,yBAAKL,UAAU,uBACb,0BAAMA,UAAU,cACbqB,EAAca,MAAMC,OADvB,IACgCb,EAAOD,EAAca,MAAMC,SAE3D,6BACGd,EAAca,MAAMC,OAAS,EAC5Bd,EAAca,MAAM9B,KAAI,SAACC,GAAD,OACtB,0BAAMC,IAAKD,GAAOA,EAAlB,QAGF,0C,iBCrFD+B,G,MC8CAzC,aAtCS,SAACC,GAEvB,MAAO,CAAElB,SADYkB,EAAblB,YAqCKiB,EAjCQ,SAACI,GAAW,IACzBrB,EAAaqB,EAAbrB,SACR,OACE,yBAAKsB,UAAU,0BACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,YAAYC,MAAO,CAAEE,UAAW,WAC7C,yBACEH,UAAU,eACV8B,IAAKO,IACLpC,MAAO,CAAEqC,MAAO,GAAIC,OAAQ,aAC5BR,IAAI,kBAEN,+HACA,2HACA,4BACEpD,KAAK,SACL6D,QAAS,kBAAM5D,EAAaF,IAC5BsB,UAAU,0BAHZ,kEASJ,yBAAKA,UAAU,YACf,yBAAKA,UAAU,iBCrCNyC,ECiFA9C,aAzES,SAACC,GAEvB,MAAO,CACLC,YAF6CD,EAAvCC,YAGNd,QAH6Ca,EAA1Bb,QAInBG,MAJ6CU,EAAjBV,MAK5BwD,MAL6C9C,EAAV8C,SAwEC5C,EAAzBH,EA/DK,SAACI,GAAW,IACtBhB,EAAuCgB,EAAvChB,QAASc,EAA8BE,EAA9BF,YAAaX,EAAiBa,EAAjBb,MAAOwD,EAAU3C,EAAV2C,MACrC,GAAIxD,EACF,OAAO,kBAAC,EAAD,MAGT,IAAMyD,EAAc,IAAIC,IAAI/C,EAAYO,KAAI,SAACC,GAAD,OAAUA,EAAKI,cAE3D,GAAyB,IAArBkC,EAAYE,MAAcF,EAAYG,KAAI,GAC5C,OAAO,4MAGT,IAAIC,EAAgB,GACdC,EAAiBnD,EACpBoD,MAAM,GACNC,QAAO,SAAC7C,GAAD,OAAUA,EAAKI,aACtBL,KAAI,SAACC,GAAD,OAAUA,EAAK6B,SA2BtB,OAxBEa,EADEL,EACc3D,EACbmE,QAAO,SAAC7C,GACP,IAAM6B,EACJ7B,EAAKc,SAAS,GAAGe,MAAMC,OAAS9B,EAAKc,SAAS,GAAGe,MAAMC,OACzD,OAAOa,EAAeG,SAASjB,GAAS7B,EAAO,QAEhD+C,MAAK,SAACC,EAAMC,GAAP,OAAgBD,EAAKnC,MAAQoC,EAAKpC,SACvC+B,MAAM,EAAG,GAEIlE,EACbmE,QAAO,SAAC7C,GACP,IAAM6B,EACJ7B,EAAKc,SAAS,GAAGe,MAAMC,OAAS9B,EAAKc,SAAS,GAAGe,MAAMC,OACzD,OAAOa,EAAeG,SAASjB,GAAS7B,EAAO,QAEhD+C,MACC,SAACC,EAAMC,GAAP,OACED,EAAKlC,SAAS,GAAGM,SACjB4B,EAAKlC,SAAS,GAAGM,UAChB6B,EAAKnC,SAAS,GAAGM,SAAW6B,EAAKnC,SAAS,GAAGM,aAEjDwB,MAAM,EAAG,GAIZ,oCAC4B,IAAzBF,EAAcZ,OACbY,EAAc3C,KAAI,SAACY,GAAD,OAChB,kBAAC,EAAD,CAAQA,OAAQA,EAAQV,IAAKiD,0BAG/B,+S,iBCpEOC,G,MC8DA7D,aAlDS,SAACC,GAEvB,MAAO,CACL6D,OAFwB7D,EAAlB6D,OAGNf,MAHwB9C,EAAV8C,SAiDsB5C,EAAzBH,EA1CH,SAACI,GAAW,IACd0D,EAA+C1D,EAA/C0D,OAAQf,EAAuC3C,EAAvC2C,MAAOvD,EAAgCY,EAAhCZ,YAAaC,EAAmBW,EAAnBX,eAEhCsE,EAAW,gCACXC,EAAW,gCAMf,OALKjB,IACHgB,EAAW,gCACXC,EAAW,iCAIX,6BACE,4BAAQ3D,UAAU,eAChB,yBAAKA,UAAU,gBAAgB8B,IAAK8B,IAAM7B,IAAI,oBAEhD,0BAAM/B,UAAU,UACd,yBAAKA,UAAU,SACb,kBAAC,EAAD,OAEF,yBAAKA,UAAU,SACb,yBAAKA,UAAU,qBACb,4BAAQrB,KAAK,SAAS6D,QAASrD,EAAaa,UAAW0D,GAAvD,6EAGA,4BAAQ/E,KAAK,SAAS6D,QAASpD,EAAgBY,UAAW2D,GAA1D,8EAIDF,EAAS,kBAAC,EAAD,MAAa,kBAAC,EAAD,a,cC+ClBI,EAjGC,WAkBV,IAjBJjE,EAiBG,uDAjBK,CACNC,YAAa,CACX,CAAEa,GAAI,EAAGH,KAAM,YAAaM,MAAO,qBAAOJ,WAAW,GACrD,CAAEC,GAAI,EAAGH,KAAM,UAAW2B,MAAO,EAAGrB,MAAO,4EAAiBJ,WAAW,GACvE,CAAEC,GAAI,EAAGH,KAAM,WAAY2B,MAAO,EAAGrB,MAAO,2DAAeJ,WAAW,GACtE,CAAEC,GAAI,EAAGH,KAAM,WAAY2B,MAAO,EAAGrB,MAAO,2DAAeJ,WAAW,GACtE,CAAEC,GAAI,EAAGH,KAAM,aAAc2B,MAAO,EAAGrB,MAAO,2DAAeJ,WAAW,IAE1EsC,cAAe,GACfhE,QAAS,GACTC,MAAM,EACNE,OAAO,EACPuE,QAAQ,EACR/E,SAAU,KACVgE,OAAO,GAEToB,EACG,uCACH,OAAQA,EAAOnF,MACb,IAAK,gBACH,OAAO,2BAAKiB,GAAZ,IAAmBlB,SAAUoF,EAAOpF,WAEtC,IAAK,wBACH,MAAO,CAAEmB,YAAaD,EAAMC,YAAakD,cAAenD,EAAMmD,cAAehE,QAASa,EAAMb,QAASC,KAAMY,EAAMZ,KAAME,OAAO,EAAOuE,QAAQ,EAAM/E,SAAUkB,EAAMlB,SAAUgE,MAAO9C,EAAM8C,OAE5L,IAAK,wBACH,MAAO,CAAE7C,YAAaD,EAAMC,YAAakD,cAAenD,EAAMmD,cAAehE,QAAQ,GAAD,mBAAMa,EAAMb,SAAZ,YAAwB+E,EAAO/E,UAAUC,KAAM8E,EAAO9E,KAAME,OAAO,EAAOuE,QAAQ,EAAO/E,SAAUkB,EAAMlB,SAAUgE,MAAO9C,EAAM8C,OAEtN,IAAK,wBACH,OAAO,2BAAK9C,GAAZ,IAAmBV,OAAO,EAAMuE,QAAQ,IAG1C,IAAK,gBACH,OAAO,2BAAK7D,GAAZ,IAAmB8C,OAAO,IAG5B,IAAK,mBACH,OAAO,2BAAK9C,GAAZ,IAAmB8C,OAAO,IAG5B,IAAK,oBAAsB,IACjB7C,EAAgBD,EAAhBC,YACAY,EAAcZ,EAAY,GAA1BY,UACFsD,EAAiBlE,EAAYO,KAAI,SAAAC,GAAI,kCAASA,GAAT,IAAeI,WAAYA,OACtE,OAAO,2BAAKb,GAAZ,IAAmBC,YAAakE,IAGlC,IAAK,+BAAiC,IAC5BlE,EAAgBD,EAAhBC,YACFP,EAAUO,EAAY,GACtBmE,EAAU,2BAAQ1E,GAAR,IAAiBmB,WAAYnB,EAAQmB,YAC/CsD,EAAc,CAAIlE,EAAY,GAAImE,GAApB,mBAAmCnE,EAAYoD,MAAM,KACnEgB,EAAa,IAAIrB,IAAImB,EAAed,MAAM,GAAG7C,KAAI,SAAAC,GAAI,OAAIA,EAAKI,cACpE,OAA4B,IAApBwD,EAAWpB,MAAcoB,EAAWnB,KAAI,GAAzC,YAAC,eACDlD,GADA,IACOC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,IAAOuD,GAA1C,mBAAyDnE,EAAYoD,MAAM,OAD7F,YAAC,eAEDrD,GAFA,IAEOC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,IAAQuD,GAA3C,mBAA0DnE,EAAYoD,MAAM,OAGvG,IAAK,gCAAkC,IAC7BpD,EAAgBD,EAAhBC,YACFN,EAAWM,EAAY,GACvBqE,EAAW,2BAAQ3E,GAAR,IAAkBkB,WAAYlB,EAASkB,YAClDsD,EAAc,sBAAQlE,EAAYoD,MAAM,EAAG,IAA7B,CAAiCiB,GAAjC,YAAiDrE,EAAYoD,MAAM,KACjFgB,EAAa,IAAIrB,IAAImB,EAAed,MAAM,GAAG7C,KAAI,SAAAC,GAAI,OAAIA,EAAKI,cACpE,OAA4B,IAApBwD,EAAWpB,MAAcoB,EAAWnB,KAAI,GAAzC,YAAC,eACHlD,GADE,IACKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA6CZ,EAAYoD,MAAM,EAAG,IAAlE,CAAsEiB,GAAtE,YAAsFrE,EAAYoD,MAAM,OADxH,YAAC,eAEHrD,GAFE,IAEKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA8CZ,EAAYoD,MAAM,EAAG,IAAnE,CAAuEiB,GAAvE,YAAuFrE,EAAYoD,MAAM,OAGlI,IAAK,gCAAkC,IAC7BpD,EAAgBD,EAAhBC,YACFL,EAAWK,EAAY,GACvBsE,EAAW,2BAAQ3E,GAAR,IAAkBiB,WAAYjB,EAASiB,YAClDsD,EAAc,sBAAQlE,EAAYoD,MAAM,EAAG,IAA7B,CAAiCkB,EAAatE,EAAY,KACxEoE,EAAa,IAAIrB,IAAImB,EAAed,MAAM,GAAG7C,KAAI,SAAAC,GAAI,OAAIA,EAAKI,cACpE,OAA4B,IAApBwD,EAAWpB,MAAcoB,EAAWnB,KAAI,GAAzC,YAAC,eACHlD,GADE,IACKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA6CZ,EAAYoD,MAAM,EAAG,IAAlE,CAAsEkB,GAAtE,YAAsFtE,EAAYoD,MAAM,OADxH,YAAC,eAEHrD,GAFE,IAEKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA8CZ,EAAYoD,MAAM,EAAG,IAAnE,CAAuEkB,GAAvE,YAAuFtE,EAAYoD,MAAM,OAGlI,IAAK,kCAAoC,IAC/BpD,EAAgBD,EAAhBC,YACFJ,EAAaI,EAAY,GACzBuE,EAAa,2BAAQ3E,GAAR,IAAoBgB,WAAYhB,EAAWgB,YACxDsD,EAAc,sBAAQlE,EAAYoD,MAAM,EAAG,IAA7B,CAAiCmB,IAC/CH,EAAa,IAAIrB,IAAImB,EAAed,MAAM,GAAG7C,KAAI,SAAAC,GAAI,OAAIA,EAAKI,cACpE,OAA4B,IAApBwD,EAAWpB,MAAcoB,EAAWnB,KAAI,GAAzC,YAAC,eACHlD,GADE,IACKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA6CZ,EAAYoD,MAAM,EAAG,IAAlE,CAAsEmB,MADtF,YAAC,eAEHxE,GAFE,IAEKC,YAAY,CAAD,2BAAQA,EAAY,IAApB,IAAwBY,WAAW,KAAnC,mBAA8CZ,EAAYoD,MAAM,EAAG,IAAnE,CAAuEmB,MAGhG,QACE,OAAOxE,ICvEPyE,G,MAAQC,YAAYT,EAASU,YAAgBC,OAEnDH,EAAMhG,SAASD,KAEfqG,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,EAAD,OAEFM,SAASC,eAAe,W","file":"static/js/main.cb3474f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/attention.cb284d33.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","export const fetchSearchId = () => {\r\n  return async (dispatch) => {\r\n    const response = await fetch('https://front-test.beta.aviasales.ru/search');\r\n    const { searchId } = await response.json();\r\n    dispatch({\r\n      type: 'GET_SEARCH_ID',\r\n      searchId\r\n    });\r\n    dispatch(fetchTickets(searchId));\r\n  };\r\n};\r\n\r\nexport const fetchTickets = (searchId) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: 'TICKETS_FETCH_REQUEST' });\r\n    while (true) {\r\n      try {\r\n        const response = await fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`);\r\n        \r\n        if (response.status === 500) {\r\n          dispatch(fetchTickets(searchId))\r\n        };\r\n        const data = await response.json();\r\n        \r\n        dispatch({\r\n          type: 'TICKETS_FETCH_SUCCESS',\r\n          tickets: data.tickets,\r\n          stop: data.stop\r\n        });\r\n        \r\n        if (data.stop) {\r\n          return;\r\n        }\r\n      } catch (err) {\r\n        dispatch({ type: 'TICKETS_FETCH_FAILURE' });\r\n        console.error('Возникла ошибки: ', err);\r\n        throw err;\r\n      };\r\n      \r\n    }\r\n\r\n  };\r\n};\r\n\r\n/* Сортировка по цене */\r\nexport const sortByPrice = () => ({\r\n  type: 'SORT_BY_PRICE'\r\n});\r\n\r\n/* Сортировка по времени в пути */\r\nexport const sortByDuration = () => ({\r\n  type: 'SORT_BY_DURATION'\r\n});\r\n\r\n/* Реакция на фильтры */\r\nexport const allRoutes = () => ({\r\n  type: 'SELECT_ALL_ROUTES'\r\n});\r\n\r\nexport const noStops = () => ({\r\n  type: 'SELECT_TICKETS_WITHOUT_STOPS'\r\n});\r\n\r\nexport const oneStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_ONE_STOPS'\r\n});\r\n\r\nexport const twoStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_TWO_STOPS'\r\n});\r\n\r\nexport const threeStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_THREE_STOPS'\r\n});\r\n\r\n\r\n\r\n\r\n","import Filter from './Filter';\r\n\r\nexport default Filter;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport * as actions from \"../../actions\";\n\nimport \"./Filter.scss\";\n\nconst mapStateToProps = (state) => {\n  const { filterStops } = state;\n  return { filterStops };\n};\n\nconst Filter = (props) => {\n  const { filterStops, ...actions } = props;\n\n  return (\n    <div className=\"col1\">\n      <h6 style={{ fontSize: \"12px\", textAlign: \"center\" }}>\n        КОЛИЧЕСТВО ПЕРЕСАДОК\n      </h6>\n      <form className=\"form\">\n        {filterStops.map((item) => {\n          return (\n            <div key={item.name}>\n              <input\n                type=\"checkbox\"\n                checked={item.isChecked}\n                name={item.name}\n                id={item.id}\n                onChange={actions[item.name]}\n              />\n              <label htmlFor={item.id}>{item.title}</label>\n            </div>\n          );\n        })}\n      </form>\n    </div>\n  );\n};\n\nFilter.propTypes = {\n  filterStops: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default connect(mapStateToProps, actions)(Filter);\n","import Spiner from './Spiner';\r\n\r\nexport default Spiner;","import React from \"react\";\n\nimport \"./Spiner.scss\";\n\nconst Spiner = () => {\n  return (\n    <div className=\"loadingio-spinner-spinner-5wj8y9evdvn\">\n      <div className=\"ldio-jrp5avnkwr\">\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n      </div>\n    </div>\n  );\n};\n\nexport default Spiner;\n","import Ticket from './Ticket';\r\n\r\nexport default Ticket;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./Ticket.scss\";\n\nconst Ticket = (props) => {\n  const { ticket } = props;\n  const { carrier, price, segments } = ticket;\n  const [segmentOneWay, segmentToBack] = segments;\n\n  const suffix = (index) => {\n    if (index === 0) {\n      return \"пересадок\";\n    }\n    if (index === 1) {\n      return \"пересадка\";\n    }\n    return \"пересадки\";\n  };\n\n  const transformDuration = (duration) => {\n    let hour = Math.floor(duration / 60);\n    if (hour < 10) hour = `0${hour}`;\n    let min = duration - hour * 60;\n    if (min < 10) min = `0${min}`;\n    return `${hour}ч ${min}м`;\n  };\n\n  return (\n    <div className=\"ticket-card\">\n      <div className=\"ticket-card--header\">\n        <span>{price} P</span>\n        <img\n          src={`//pics.avs.io/99/36/${carrier}.png`}\n          alt={`Aviacompany ${carrier}`}\n        />\n      </div>\n      <div className=\"information\">\n        <div className=\"rout\">\n          <div className=\"rout-there f-dir\">\n            <span className=\"title-mark\">\n              {segmentOneWay.origin} - {segmentOneWay.destination}\n            </span>\n            <span>10:45 - 08:00</span>\n          </div>\n          <div className=\"rout-back f-dir\">\n            <span className=\"title-mark\">\n              {segmentToBack.origin} - {segmentToBack.destination}\n            </span>\n            <span>11:20 - 00:50</span>\n          </div>\n        </div>\n        <div className=\"intransit\">\n          <div className=\"intransit-there f-dir\">\n            <span className=\"title-mark\">В пути</span>\n            <span>{transformDuration(segmentOneWay.duration)}</span>\n          </div>\n          <div className=\"intransit-back f-dir\">\n            <span className=\"title-mark\">В пути</span>\n            <span>{transformDuration(segmentToBack.duration)}</span>\n          </div>\n        </div>\n        <div className=\"transfer\">\n          <div className=\"transfer-there f-dir\">\n            <span className=\"title-mark\">\n              {segmentOneWay.stops.length} {suffix(segmentOneWay.stops.length)}\n            </span>\n            <div>\n              {segmentOneWay.stops.length > 0 ? (\n                segmentOneWay.stops.map((item) => (\n                  <span key={item}>{item} </span>\n                ))\n              ) : (\n                <span>-</span>\n              )}\n            </div>\n          </div>\n          <div className=\"transfer-back f-dir\">\n            <span className=\"title-mark\">\n              {segmentToBack.stops.length} {suffix(segmentToBack.stops.length)}\n            </span>\n            <div>\n              {segmentToBack.stops.length > 0 ? (\n                segmentToBack.stops.map((item) => (\n                  <span key={item}>{item} </span>\n                ))\n              ) : (\n                <span>-</span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTicket.propTypes = {\n  ticket: PropTypes.object.isRequired,\n};\n\nexport default Ticket;\n","import ErrorIndicator from './ErrorIndicator';\r\n\r\nexport default ErrorIndicator;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { fetchTickets } from \"../../actions\";\n\nimport attention from \"../../images/attention.png\";\n\nimport \"./ErrorIndicator.scss\";\n\nconst mapStateToProps = (state) => {\n  const { searchId } = state;\n  return { searchId };\n};\n\nconst ErrorIndicator = (props) => {\n  const { searchId } = props;\n  return (\n    <div className=\"card classErrorMessage\">\n      <div className=\"card-screen\">\n        <div className=\"card-body\" style={{ textAlign: \"center\" }}>\n          <img\n            className=\"card-img-top\"\n            src={attention}\n            style={{ width: 50, margin: \"10px auto\" }}\n            alt=\"Error message\"\n          />\n          <h2>Что-то пошло не так.</h2>\n          <p>Продолжить поиск?</p>\n          <button\n            type=\"button\"\n            onClick={() => fetchTickets(searchId)}\n            className=\"btn btn-warning btn-sm\"\n          >\n            Продолжить\n          </button>\n        </div>\n      </div>\n      <div className=\"shadow1\" />\n      <div className=\"shadow2\" />\n    </div>\n  );\n};\n\nErrorIndicator.propTypes = {\n  searchId: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps)(ErrorIndicator);\n","import TicketsList from './TicketsList';\r\n\r\nexport default TicketsList;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { uniqueId } from \"lodash\";\nimport { connect } from \"react-redux\";\n\nimport Ticket from \"../Ticket\";\nimport ErrorIndicator from \"../ErrorIndicator\";\n\nimport * as actions from \"../../actions\";\n\nconst mapStateToProps = (state) => {\n  const { filterStops, tickets, error, cheap } = state;\n  return {\n    filterStops,\n    tickets,\n    error,\n    cheap,\n  };\n};\n\nconst TicketsList = (props) => {\n  const { tickets, filterStops, error, cheap } = props;\n  if (error) {\n    return <ErrorIndicator />;\n  }\n\n  const checkedList = new Set(filterStops.map((item) => item.isChecked));\n\n  if (checkedList.size === 1 && checkedList.has(false)) {\n    return <h2>Не указано количество пересадок!</h2>;\n  }\n\n  let sortedTickets = [];\n  const checkedFilters = filterStops\n    .slice(1)\n    .filter((item) => item.isChecked)\n    .map((item) => item.stops);\n\n  if (cheap) {\n    sortedTickets = tickets\n      .filter((item) => {\n        const stops =\n          item.segments[0].stops.length + item.segments[1].stops.length;\n        return checkedFilters.includes(stops) ? item : null;\n      })\n      .sort((prev, next) => prev.price - next.price)\n      .slice(0, 5);\n  } else {\n    sortedTickets = tickets\n      .filter((item) => {\n        const stops =\n          item.segments[0].stops.length + item.segments[1].stops.length;\n        return checkedFilters.includes(stops) ? item : null;\n      })\n      .sort(\n        (prev, next) =>\n          prev.segments[0].duration +\n          prev.segments[1].duration -\n          (next.segments[0].duration + next.segments[1].duration)\n      )\n      .slice(0, 5);\n  }\n\n  return (\n    <>\n      {sortedTickets.length !== 0 ? (\n        sortedTickets.map((ticket) => (\n          <Ticket ticket={ticket} key={uniqueId()} />\n        ))\n      ) : (\n        <h2>Рейсов, подходящих под заданные фильтры, не найдено!</h2>\n      )}\n    </>\n  );\n};\n\nTicketsList.propTypes = {\n  filterStops: PropTypes.arrayOf(PropTypes.object).isRequired,\n  tickets: PropTypes.arrayOf(PropTypes.object).isRequired,\n  error: PropTypes.bool.isRequired,\n  cheap: PropTypes.bool.isRequired,\n};\n\nexport default connect(mapStateToProps, actions)(TicketsList);\n","import App from './App';\r\n\r\nexport default App;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport Filter from \"../Filter\";\nimport Spiner from \"../Spiner\";\nimport TicketsList from \"../TicketsList\";\n\nimport * as actions from \"../../actions\";\n\nimport logo from \"../../images/logo.svg\";\n\nimport \"./App.scss\";\n\nconst mapStateToProps = (state) => {\n  const { loader, cheap } = state;\n  return {\n    loader,\n    cheap,\n  };\n};\n\nconst App = (props) => {\n  const { loader, cheap, sortByPrice, sortByDuration } = props;\n\n  let btnCheap = \"btn btn-primary btn-lg btn-my\";\n  let btnQuick = \"btn btn-default btn-lg btn-my\";\n  if (!cheap) {\n    btnCheap = \"btn btn-default btn-lg btn-my\";\n    btnQuick = \"btn btn-primary btn-lg btn-my\";\n  }\n\n  return (\n    <div>\n      <header className=\"center-logo\">\n        <img className=\"logo-position\" src={logo} alt=\"Aviasales logo\" />\n      </header>\n      <main className=\"my-box\">\n        <div className=\"col_1\">\n          <Filter />\n        </div>\n        <div className=\"col_2\">\n          <div className=\"btn-group buttons\">\n            <button type=\"button\" onClick={sortByPrice} className={btnCheap}>\n              Самый дешевый\n            </button>\n            <button type=\"button\" onClick={sortByDuration} className={btnQuick}>\n              Самый быстрый\n            </button>\n          </div>\n          {loader ? <Spiner /> : <TicketsList />}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nApp.propTypes = {\n  loader: PropTypes.bool.isRequired,\n  cheap: PropTypes.bool.isRequired,\n  sortByPrice: PropTypes.func.isRequired,\n  sortByDuration: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, actions)(App);\n","const reducer = (\r\n  state = {\r\n    filterStops: [\r\n      { id: 1, name: 'allRoutes', title: 'Все', isChecked: true },\r\n      { id: 2, name: 'noStops', stops: 0, title: 'Без пересадок', isChecked: true },\r\n      { id: 3, name: 'oneStops', stops: 1, title: '1 пересадка', isChecked: true },\r\n      { id: 4, name: 'twoStops', stops: 2, title: '2 пересадки', isChecked: true },\r\n      { id: 5, name: 'threeStops', stops: 3, title: '3 пересадки', isChecked: true },    \r\n    ],\r\n    sortedTickets: [],\r\n    tickets: [],\r\n    stop: false,\r\n    error: false,\r\n    loader: false,\r\n    searchId: null,\r\n    cheap: true\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'GET_SEARCH_ID':\r\n      return { ...state, searchId: action.searchId }\r\n    \r\n    case 'TICKETS_FETCH_REQUEST':\r\n      return { filterStops: state.filterStops, sortedTickets: state.sortedTickets, tickets: state.tickets, stop: state.stop, error: false, loader: true, searchId: state.searchId, cheap: state.cheap }\r\n    \r\n    case 'TICKETS_FETCH_SUCCESS':\r\n      return { filterStops: state.filterStops, sortedTickets: state.sortedTickets, tickets: [...state.tickets, ...action.tickets], stop: action.stop, error: false, loader: false, searchId: state.searchId, cheap: state.cheap };\r\n    \r\n    case 'TICKETS_FETCH_FAILURE':\r\n      return { ...state, error: true, loader: false };\r\n        \r\n    /* Сортировка по цене */\r\n    case 'SORT_BY_PRICE':\r\n      return { ...state, cheap: true };\r\n\r\n    /* Сортировка по времени в пути */\r\n    case 'SORT_BY_DURATION':\r\n      return { ...state, cheap: false };\r\n\r\n    /* Изменение фильтров  */\r\n    case 'SELECT_ALL_ROUTES': {\r\n      const { filterStops } = state;\r\n      const { isChecked } = filterStops[0];\r\n      const newFilterStops = filterStops.map(item => ({...item, isChecked: !isChecked}));\r\n      return { ...state, filterStops: newFilterStops };\r\n    }\r\n    \r\n    case 'SELECT_TICKETS_WITHOUT_STOPS': {\r\n      const { filterStops } = state;\r\n      const noStops = filterStops[1];\r\n      const newNoStops = { ...noStops, isChecked: !noStops.isChecked};\r\n      const newFilterStops = [filterStops[0], newNoStops, ...filterStops.slice(2)];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n        { ...state, filterStops: [ {...filterStops[0], isChecked: true}, newNoStops, ...filterStops.slice(2) ] } :\r\n        { ...state, filterStops: [ {...filterStops[0], isChecked: false}, newNoStops, ...filterStops.slice(2) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_ONE_STOPS': {\r\n      const { filterStops } = state;\r\n      const oneStops = filterStops[2];\r\n      const newOneStops = { ...oneStops, isChecked: !oneStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 2), newOneStops, ...filterStops.slice(3) ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 2), newOneStops, ...filterStops.slice(3) ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 2), newOneStops, ...filterStops.slice(3) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_TWO_STOPS': {\r\n      const { filterStops } = state;\r\n      const twoStops = filterStops[3];\r\n      const newTwoStops = { ...twoStops, isChecked: !twoStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 3), newTwoStops, filterStops[4] ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 3), newTwoStops, ...filterStops.slice(4) ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 3), newTwoStops, ...filterStops.slice(4) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_THREE_STOPS': {\r\n      const { filterStops } = state;\r\n      const threeStops = filterStops[4];\r\n      const newThreeStops = { ...threeStops, isChecked: !threeStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 4), newThreeStops ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 4), newThreeStops ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 4), newThreeStops ] };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducer from './reducer';\nimport { fetchSearchId } from './actions';\n\nimport './index.scss';\n\n/* const initialStateFilters = [\n  { id: 1, name: 'allRoutes', title: 'Все', isChecked: true },\n  { id: 2, name: 'noStops', stops: 0, title: 'Без пересадок', isChecked: true },\n  { id: 3, name: 'oneStops', stops: 1, title: '1 пересадка', isChecked: true },\n  { id: 4, name: 'twoStops', stops: 2, title: '2 пересадки', isChecked: true },\n  { id: 5, name: 'threeStops', stops: 3, title: '3 пересадки', isChecked: true },    \n]; */\n\n\n/* const store = createStore(reducer, initialStateFilters); */\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nstore.dispatch(fetchSearchId());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}