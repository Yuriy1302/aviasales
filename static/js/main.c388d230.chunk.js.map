{"version":3,"sources":["images/attention.png","images/logo.svg","actions/index.js","components/Filter/index.js","components/Filter/Filter.jsx","components/Ticket/index.js","components/Ticket/Ticket.jsx","components/TicketsList/index.js","components/TicketsList/TicketsList.jsx","components/ErrorIndicator/index.js","components/ErrorIndicator/ErrorIndicator.jsx","components/Spiner/index.js","components/Spiner/Spiner.jsx","components/App/App.jsx","components/App/index.js","reducer/index.js","index.js"],"names":["module","exports","fetchSearchId","dispatch","a","fetch","response","json","searchId","console","log","type","fetchTickets","tickets","stop","sortByPrice","error","sortByDuration","allRoutes","event","noStops","oneStops","twoStops","threeStops","Filter","connect","state","filterStops","actions","props","className","style","fontSize","textAlign","map","item","key","name","checked","isChecked","id","onChange","htmlFor","title","Ticket","word","index","transformDuration","duration","hour","Math","floor","min","ticket","carrier","price","segments","segmentOneWay","segmentToBack","src","alt","origin","destination","stops","length","TicketsList","sortedTickets","checkedList","Set","size","has","ErrorIndicator","attention","width","margin","onClick","window","location","reload","Spiner","App","this","loader","logo","React","Component","reducer","action","sort","b","slice","newFilterStops","newNoStops","checkboxes","newOneStops","newTwoStops","newThreeStops","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c388d230.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/attention.cb284d33.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","export const fetchSearchId = () => {\r\n  return async (dispatch) => {\r\n    const response = await fetch('https://front-test.beta.aviasales.ru/search');\r\n    const { searchId } = await response.json();\r\n    console.log('searchId in actions', searchId);\r\n    dispatch({\r\n      type: 'GET_SEARCH_ID',\r\n      searchId\r\n    });\r\n    dispatch(fetchTickets(searchId));\r\n  };\r\n};\r\n\r\nexport const fetchTickets = (searchId) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: 'TICKETS_FETCH_REQUEST' });\r\n    try {\r\n      const response = await fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`);\r\n      const { tickets, stop } = await response.json();\r\n      // console.log('Tickets -> ', tickets);\r\n      dispatch({\r\n        type: 'TICKETS_FETCH_SUCCESS',\r\n        tickets,\r\n        stop\r\n      });\r\n      dispatch(sortByPrice());\r\n    } catch (err) {\r\n      dispatch({ type: 'TICKETS_FETCH_FAILURE' });\r\n      console.error('Возникда ошибки: ', err);\r\n      throw err;\r\n    };\r\n  };\r\n};\r\n\r\n\r\n/* Сортировка по цене */\r\nexport const sortByPrice = () => {\r\n  console.log('Click action SortByPrice');\r\n  return { type: 'SORT_BY_PRICE' }\r\n};\r\n\r\n/* Сортировка по времени в пути */\r\nexport const sortByDuration = () => {\r\n  console.log('Click action SortByDuration');\r\n  return { type: 'SORT_BY_DURATION' }\r\n};\r\n\r\n\r\n\r\n\r\nexport const allRoutes = (event) => {\r\n  /* const value = event.target.value;\r\n  console.log('value ', value); */\r\n  return { type: 'SELECT_ALL_ROUTES' };\r\n};\r\n\r\nexport const noStops = () => ({\r\n  type: 'SELECT_TICKETS_WITHOUT_STOPS'\r\n});\r\n\r\nexport const oneStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_ONE_STOPS'\r\n});\r\n\r\nexport const twoStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_TWO_STOPS'\r\n});\r\n\r\nexport const threeStops = () => ({\r\n  type: 'SELECT_TICKETS_WITH_THREE_STOPS'\r\n});\r\n\r\n\r\n\r\n\r\n","import Filter from './Filter';\r\n\r\nexport default Filter;","import React from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport \"./Filter.scss\";\n\nconst mapStateToProps = (state) => {\n  const { filterStops } = state;\n  return {\n    filterStops\n  };\n};\n\nconst Filter = (props) => {\n\n  const { filterStops, ...actions } = props;\n  // console.log('filterStops - ', filterStops);\n\n  return (\n    <div className=\"col1\">\n      <h6 style={{ fontSize: '12px', textAlign: 'center' }}>КОЛИЧЕСТВО ПЕРЕСАДОК</h6>\n      <form className=\"form\">\n        {\n          filterStops.map(item => {\n            /* console.log(item.name); */\n            return (\n              <div key={item.name}>\n                <input type=\"checkbox\"\n                    checked={item.isChecked}\n                    name={item.name}\n                    id={item.id}\n                    onChange={actions[item.name]}\n                     />\n                  <label htmlFor={item.id}>{item.title}</label>\n              </div>\n            )})\n        }\n      </form>\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, actions)(Filter);","import Ticket from './Ticket';\r\n\r\nexport default Ticket;","import React from \"react\";\n\nimport \"./Ticket.scss\";\n\nconst Ticket = (props) => {\n\n  const word = (index) => {\n    if (index === 0) {\n      return 'пересадок';\n    } else if (index === 1) {\n      return 'пересадка';\n    } else {\n      return 'пересадки';\n    }\n  }\n\n  const transformDuration = (duration) => {\n    let hour = Math.floor(duration / 60);\n    if (hour < 10) hour = `0${hour}`;\n    let min = duration - hour * 60;\n    if (min < 10) min = `0${min}`;\n    return `${hour}ч ${min}м`;\n  }\n \n\n  const { ticket } = props;\n  // console.log('ticket in TicketForm = ', ticket);\n\n  const { carrier, price, segments } = ticket;\n\n  const [ segmentOneWay, segmentToBack ] = segments;\n  \n  // console.log('segmentOneWay -> ', segmentOneWay);\n  // console.log('segmentToBack -> ', segmentToBack);\n\n  return (\n    <div className=\"ticket-card\">\n      <div className=\"ticket-card--header\">\n        <span>{price} P</span>\n        <img src={`//pics.avs.io/99/36/${carrier}.png`} alt=\"S7 logo\" />\n      </div>\n      <div className=\"information\">\n        <div className=\"rout\">\n          <div className=\"rout-there f-dir\">\n            <span className=\"title-mark\">{segmentOneWay.origin} - {segmentOneWay.destination}</span>\n            <span>10:45 - 08:00</span>\n          </div>\n          <div className=\"rout-back f-dir\">\n            <span className=\"title-mark\">{segmentToBack.origin} - {segmentToBack.destination}</span>\n            <span>11:20 - 00:50</span>\n          </div>\n        </div>\n        <div className=\"intransit\">\n          <div className=\"intransit-there f-dir\">\n            <span className=\"title-mark\">В пути</span>\n            <span>{transformDuration(segmentOneWay.duration)}</span>\n          </div>\n          <div className=\"intransit-back f-dir\">\n            <span className=\"title-mark\">В пути</span>\n            <span>{transformDuration(segmentToBack.duration)}</span>\n          </div>\n        </div>\n        <div className=\"transfer\">\n          <div className=\"transfer-there f-dir\">\n            <span className=\"title-mark\">{segmentOneWay.stops.length} {word(segmentOneWay.stops.length)}</span>\n            <div>\n              { segmentOneWay.stops.length > 0\n                ? segmentOneWay.stops.map((item, index) => <span key={index}>{item} </span>)\n                : <span>-</span>  \n              }\n            </div>\n          </div>\n          <div className=\"transfer-back f-dir\">\n            <span className=\"title-mark\">{segmentToBack.stops.length} {word(segmentToBack.stops.length)}</span>\n            <div>\n              { segmentToBack.stops.length > 0\n                ? segmentToBack.stops.map((item, index) => <span key={index}>{item} </span>)\n                : <span>-</span>  \n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Ticket;\n","import TicketsList from './TicketsList';\r\n\r\nexport default TicketsList;","import React from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport Ticket from '../Ticket';\n\nconst mapStateToProps = (state) => {\n  const { fetchTickets, tickets, sortedTickets, searchId, filterStops } = state;\n  return {\n    fetchTickets,\n    /* tickets, */\n    sortedTickets,\n    searchId,\n    filterStops\n  }\n};\n\nconst TicketsList = (props) => {\n\n  const { tickets, sortedTickets, filterStops } = props;\n  const checkedList = new Set(filterStops.map(item => item.isChecked));\n  \n  if (checkedList.size === 1 && checkedList.has(false)) {\n    return (\n      <h2>Не указано количество пересадок!</h2>\n    );\n  };\n\n  console.log('sortedTickets in TicketsList: ', sortedTickets);\n\n  return (\n    <>\n      {\n        /* sortTickets.map((ticket, index) => <TicketForm ticket={ticket} key={index} />) */\n        sortedTickets.length !== 0 ? sortedTickets.map((ticket, index) => <Ticket ticket={ticket} key={index} />) : <h1>Нет билетов</h1>\n      }\n    </>\n  );\n};\n\nexport default connect(mapStateToProps, actions)(TicketsList);\n","import ErrorIndicator from './ErrorIndicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport attention from '../../images/attention.png';\r\n\r\nimport './ErrorIndicator.scss';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"card classErrorMessage\">\r\n      <div className=\"card-screen\">\r\n        <div className=\"card-body\" style={{ textAlign: 'center' }}>\r\n          <img className=\"card-img-top\" src={attention} style={{ width: 50, margin: '10px auto'}} alt=\"Error message\" />\r\n          <h2>Что-то пошло не так.</h2>\r\n          <p>Перезапустите страницу.</p>\r\n          <button type='button' onClick={() => window.location.reload()} className='btn btn-warning btn-sm'>Перезапустить</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"myShadow1\"></div>\r\n      <div className=\"myShadow2\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorIndicator;","import Spiner from './Spiner';\r\n\r\nexport default Spiner;","import React from 'react';\r\n\r\nimport './Spiner.scss';\r\n\r\nconst Spiner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-spinner-5wj8y9evdvn\">\r\n      <div className=\"ldio-jrp5avnkwr\">\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spiner;","import React from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport Filter from '../Filter';\nimport TicketsList from '../TicketsList';\nimport ErrorIndicator from '../ErrorIndicator';\nimport Spiner from '../Spiner';\n\nimport logo from \"../../images/logo.svg\";\nimport \"./App.scss\";\n\nconst mapStateToProps = (state) => {\n  const { tickets, error, loader, searchId } = state;\n  return {\n    tickets,\n    error,\n    loader,\n    searchId\n  }\n};\n\nclass App extends React.Component {\n  \n  \n/*   sortByPrice = () => {\n    const sortTickets = this.state.data.tickets.sort(function (a, b) {\n      return a.price - b.price;\n    });\n    this.setState({\n      sortTickets,\n      sortButtonsClass: {\n        cheap: 'btn btn-primary btn-lg btn-my',\n        quick: 'btn btn-default btn-lg btn-my'\n      }\n    });\n  } */\n\n/*   sortByDuration = () => {\n    const sortTickets = this.state.data.tickets.sort(function (a, b) {\n      return (a.segments[0].duration + a.segments[1].duration) - (b.segments[0].duration + b.segments[1].duration);\n    });\n    this.setState({\n      sortTickets,\n      sortButtonsClass: {\n        cheap: 'btn btn-default btn-lg btn-my',\n        quick: 'btn btn-primary btn-lg btn-my'\n      }\n    });\n  } */\n\n\n  render() {\n    \n    const { error, loader, sortByPrice, sortByDuration } = this.props;\n    /* const { sortByPrice } = actions; */\n\n    if (error) {\n      return <ErrorIndicator />\n    }\n\n    return (\n      <div>\n        <div className=\"center-logo\">\n          <img className=\"logo-position\" src={logo} alt=\"\" />\n        </div>\n        <div className=\"my-box\">\n          <div className=\"col_1\">\n            <Filter />\n          </div>\n          <div className=\"col_2\">\n            <div className=\"btn-group buttons\">\n              <button type=\"button\" onClick={sortByPrice} className=\"btn btn-primary btn-lg btn-my\">\n                Самый дешевый\n              </button>\n              <button type=\"button\" onClick={sortByDuration} className=\"btn btn-default btn-lg btn-my\">\n                Самый быстрый\n              </button>\n            </div>\n            {\n              loader ? <Spiner /> : <TicketsList />\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default connect(mapStateToProps, actions)(App);\n","import App from './App';\r\n\r\nexport default App;","const reducer = (\r\n  state = {\r\n    filterStops: [\r\n      { id: 1, name: 'allRoutes', title: 'Все', isChecked: true },\r\n      { id: 2, name: 'noStops', stops: 0, title: 'Без пересадок', isChecked: true },\r\n      { id: 3, name: 'oneStops', stops: 1, title: '1 пересадка', isChecked: true },\r\n      { id: 4, name: 'twoStops', stops: 2, title: '2 пересадки', isChecked: true },\r\n      { id: 5, name: 'threeStops', stops: 3, title: '3 пересадки', isChecked: true },    \r\n    ],\r\n    sortedTickets: [],\r\n    tickets: [],\r\n    stop: false,\r\n    error: false,\r\n    loader: false,\r\n    searchId: null,\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'GET_SEARCH_ID':\r\n      return { ...state, searchId: action.searchId }\r\n    \r\n    case 'TICKETS_FETCH_REQUEST':\r\n      return { filterStops: state.filterStops, sortedTickets: state.sortedTickets, tickets: state.tickets, stop: state.stop, error: false, loader: true, searchId: state.searchId }\r\n    \r\n    case 'TICKETS_FETCH_SUCCESS':\r\n      return { filterStops: state.filterStops, sortedTickets: state.sortedTickets, tickets: [...state.tickets, ...action.tickets], stop: action.stop, error: false, loader: false, searchId: state.searchId };\r\n    \r\n    case 'TICKETS_FETCH_FAILURE':\r\n      /* return { tickets: [...state.tickets], stop: state.stop, error: true, loader: false, searchId: state.searchId }; */\r\n      return { ...state, error: true, loader: false };\r\n    \r\n    /* Сортировка по цене */\r\n    case 'SORT_BY_PRICE': {\r\n      \r\n      const { tickets } = state;\r\n      const sortedTickets = tickets.sort((a, b) => a.price - b.price).slice(0, 5);\r\n      console.log('sortedTickets by Price in reducer', sortedTickets);\r\n      return { ...state, sortedTickets: sortedTickets };\r\n    }\r\n\r\n    /* Сортировка по времени в пути */\r\n    case 'SORT_BY_DURATION': {\r\n      \r\n      const { tickets } = state;\r\n      const sortedTickets = tickets.sort((a, b) => (a.segments[0].duration + a.segments[1].duration) - (b.segments[0].duration + b.segments[1].duration)).slice(0, 5);\r\n      console.log('sortedTickets by Duration in reducer', sortedTickets);\r\n      return { ...state, sortedTickets: sortedTickets };\r\n    }\r\n\r\n\r\n    \r\n    case 'SELECT_ALL_ROUTES': {\r\n      const { filterStops } = state;\r\n      const { isChecked } = filterStops[0];\r\n      const newFilterStops = filterStops.map(item => ({...item, isChecked: !isChecked}));\r\n      return { ...state, filterStops: newFilterStops };\r\n    }\r\n    \r\n    case 'SELECT_TICKETS_WITHOUT_STOPS': {\r\n      const { filterStops } = state;\r\n      const noStops = filterStops[1];\r\n      const newNoStops = { ...noStops, isChecked: !noStops.isChecked};\r\n      const newFilterStops = [filterStops[0], newNoStops, ...filterStops.slice(2)];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n        { ...state, filterStops: [ {...filterStops[0], isChecked: true}, newNoStops, ...filterStops.slice(2) ] } :\r\n        { ...state, filterStops: [ {...filterStops[0], isChecked: false}, newNoStops, ...filterStops.slice(2) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_ONE_STOPS': {\r\n      const { filterStops } = state;\r\n      const oneStops = filterStops[2];\r\n      const newOneStops = { ...oneStops, isChecked: !oneStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 2), newOneStops, ...filterStops.slice(3) ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 2), newOneStops, ...filterStops.slice(3) ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 2), newOneStops, ...filterStops.slice(3) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_TWO_STOPS': {\r\n      const { filterStops } = state;\r\n      const twoStops = filterStops[3];\r\n      const newTwoStops = { ...twoStops, isChecked: !twoStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 3), newTwoStops, filterStops[4] ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 3), newTwoStops, ...filterStops.slice(4) ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 3), newTwoStops, ...filterStops.slice(4) ] };\r\n    }\r\n\r\n    case 'SELECT_TICKETS_WITH_THREE_STOPS': {\r\n      const { filterStops } = state;\r\n      const threeStops = filterStops[4];\r\n      const newThreeStops = { ...threeStops, isChecked: !threeStops.isChecked};\r\n      const newFilterStops = [ ...filterStops.slice(0, 4), newThreeStops ];\r\n      const checkboxes = new Set(newFilterStops.slice(1).map(item => item.isChecked));\r\n      return (checkboxes.size === 1 && checkboxes.has(true)) ? \r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: true}, ...filterStops.slice(1, 4), newThreeStops ] } :\r\n      { ...state, filterStops: [ {...filterStops[0], isChecked: false}, ...filterStops.slice(1, 4), newThreeStops ] };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducer from './reducer';\nimport { fetchSearchId } from './actions';\n\nimport './index.scss';\n\n/* const initialStateFilters = [\n  { id: 1, name: 'allRoutes', title: 'Все', isChecked: true },\n  { id: 2, name: 'noStops', stops: 0, title: 'Без пересадок', isChecked: true },\n  { id: 3, name: 'oneStops', stops: 1, title: '1 пересадка', isChecked: true },\n  { id: 4, name: 'twoStops', stops: 2, title: '2 пересадки', isChecked: true },\n  { id: 5, name: 'threeStops', stops: 3, title: '3 пересадки', isChecked: true },    \n]; */\n\n\n/* const store = createStore(reducer, initialStateFilters); */\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nstore.dispatch(fetchSearchId());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}